<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Letter</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Noticia+Text:wght@400;700&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Mulish:wght@300;400;600;700&display=swap" rel="stylesheet" />
  <link href="./index.css" rel="stylesheet" />
</head>

<body>

  <!-- SAME HEADER -->
  <header class="masthead py-2">
    <div class="container d-flex align-items-center justify-content-between">
      <div class="d-flex align-items-center">
        <div class="site-logo text-white me-3">Systems of Oppression<span class="text-warning">.</span></div>
        <nav class="top-links d-none d-md-block">
          <a href="./index.html">Home</a>
          <a href="./letters.html">Letters</a>
          <a href="#">Context</a>
          <a href="#">Quizzes</a>
          <a href="#">About us</a>
        </nav>
      </div>
    </div>
  </header>

  <main class="container mt-5">

    <!-- Title -->
    <h1 id="letterTitle" class="mb-3" style="font-family: 'Noticia Text', serif;"></h1>

    <!-- Byline -->
    <p id="letterByline" class="text-muted"></p>

    <!-- Content -->
    <article id="letterContent" class="mt-4" style="font-family: 'Mulish', sans-serif; white-space: pre-wrap; line-height: 1.7;"></article>

  </main>

  <!-- SAME FOOTER -->
  <footer class="mt-5 container">
    <div class="row">
      <div class="col-md-6">
        <p class="mb-0">© Your Site — inspired by The Guardian homepage.</p>
      </div>
      <div class="col-md-6 text-md-end">
        <small class="text-muted">News • Opinion • Sport • Culture • Lifestyle</small>
      </div>
    </div>
  </footer>

  <!-- SCRIPT: Load the letter -->
  <script>
    const params = new URLSearchParams(window.location.search);
    const id = params.get("id");

    fetch("./letters.json")
      .then(res => res.json())
      .then(data => {
        const letter = data.letters[id];

        if (!letter) {
          document.getElementById("letterTitle").textContent = "Letter not found.";
          return;
        }

        document.getElementById("letterTitle").textContent = letter.name;
        document.getElementById("letterByline").textContent = `${letter.author} • ${letter.date}`;
        document.getElementById("letterContent").textContent = letter.letter;
      });
  </script>

</body>
</html>
